"use strict";if(void 0===woostifyEvent)var woostifyEvent={};function productVariation(e,t){var o=document.querySelector(e);if(o){var r=o.getAttribute("data-pid"),i=t||'form.variations_form[data-product_id="'+r+'"]';if(jQuery(i).length){var a=o.querySelector(".image-item");if(null!=a){var n=!!a&&a.querySelector("img"),c=n?n.getAttribute("src"):"",s=n?n.getAttribute("srcset"):"",u=a.querySelector("a"),d=u?u.getAttribute("href"):"",l=o.querySelector(".thumbnail-item"),f=!!l&&l.querySelector("img"),_=f?f.getAttribute("src"):"";if(jQuery(i).length){var y=document.querySelector(".elementor-widget-woostify-product-meta .sku"),m=y?y.innerHTML:"",p=document.querySelector(".wpm_gtin_code_wrapper .wpm_pgw_code");p&&(p.innerHTML=m),jQuery(document.body).on("found_variation",i,(function(t,o){var r=o.image.src,i=o.image.full_src,c=o.is_in_stock;if(r&&i){if(y&&(y.innerHTML=o.sku),p&&o.wpm_pgw_code&&(p.innerHTML=o.wpm_pgw_code),u&&u.setAttribute("href",i),n&&r){a.classList.add("image-loading");var d=new Image;d.onload=function(){a.classList.remove("image-loading")},d.src=r,n.setAttribute("src",r),s&&n.setAttribute("srcset",o.image.srcset)}f&&f.setAttribute("src",o.image.thumb_src),"function"==typeof easyZoomHandle&&easyZoomHandle();var l=document.querySelector(e),_=!!l&&l.querySelector(".product-images"),m=!!_&&_.querySelector(".woostify-out-of-stock-label"),g=!!_&&_.querySelector(".woostify-tag-on-sale");if(c)o.max_qty&&"function"==typeof woostifyStockQuantityProgressBar&&setTimeout((function(){woostifyStockQuantityProgressBar()}),200),m&&m.remove(),g&&woostify_woocommerce_variable_product_data.sale_tag_percent&&o.display_price!=o.display_regular_price&&(g.innerHTML="-"+Math.round((o.display_regular_price-o.display_price)/o.display_regular_price*100)+"%");else if("undefined"!=typeof woostify_woocommerce_variable_product_data){var w='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";m||_.insertAdjacentHTML("beforeend",w)}}})),jQuery(".reset_variations").off("click").on("click",(function(e){if(e.preventDefault(),m&&(y.innerHTML=m),p&&(p.innerHTML=m),n){a.classList.add("image-loading");var t=new Image;t.onload=function(){a.classList.remove("image-loading")},t.src=c,n.setAttribute("src",c),s&&n.setAttribute("srcset",s)}_&&f.setAttribute("src",_),d&&u.setAttribute("href",d),"function"==typeof easyZoomHandle&&easyZoomHandle()})),woostifyEvent.productVariationReady=1}}}}}document.addEventListener("DOMContentLoaded",(function(){woostifyEvent.productVariationReady||(productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){woostifyEvent.productVariationReady||window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){productVariation(".product-gallery")}))})))}));